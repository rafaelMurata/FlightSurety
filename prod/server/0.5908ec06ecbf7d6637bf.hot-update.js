exports.id=0,exports.modules={"./src/server/server.js":function(e,o,n){"use strict";n.r(o);var c=n("./build/contracts/FlightSuretyApp.json"),t=(n("./build/contracts/FlightSuretyData.json"),n("./src/server/config.json")),s=n("web3"),l=n.n(s),r=n("express"),u=n.n(r),a=n("cors"),i=t.localhost,f=new l.a(new l.a.providers.WebsocketProvider(i.url.replace("http","ws")));f.eth.defaultAccount=f.eth.accounts[0];var g=new f.eth.Contract(c.abi,i.appAddress),h=[],d="";new Promise((function(e,o){f.eth.getAccounts().then((function(n){var c=22,t=[];g.methods.REGISTRATION_FEE().call().then((function(s){n.slice(11,33).forEach((function(n){g.methods.registerOracle().send({from:n,value:s,gas:9999999,gasPrice:2e10}).then((function(){g.methods.getMyIndexes().call({from:n}).then((function(o){t.push(o),h.push(n),d=n,console.log("Oracle Registered: ".concat(o[0],", ").concat(o[1],", ").concat(o[2]," at ").concat(n)),(c-=1)||e(t)})).catch((function(e){o(e)}))})).catch((function(e){o(e)}))}))})).catch((function(e){o(e)}))})).catch((function(e){o(e)}))})).then((function(e){console.log("All oracles registered"),g.events.SubmitOracleResponse({fromBlock:0},(function(e,o){e&&console.log(e),console.log(o);var n=o.returnValues.airline,c=o.returnValues.flight,t=o.returnValues.timestamp,s=o.returnValues.indexes,l=o.returnValues.statusCode;d=o.returnValues.index;for(var r=0;r<h.length;r++)console.log("Oracle loop ",r),g.methods.submitOracleResponse(s,n,c,t,l).send({from:h[r]}).then((function(e){console.log(e)})).catch((function(e){console.log("Oracle didn't respond")}))})),g.events.RegisterAirline({fromBlock:0},(function(e,o){e&&console.log(e),console.log(o)})),g.events.FundedLines({fromBlock:0},(function(e,o){e&&console.log(e),console.log(o)})),g.events.PurchaseInsurance({fromBlock:0},(function(e,o){e&&console.log(e),console.log(o)})),g.events.CreditInsurees({fromBlock:0},(function(e,o){e&&console.log(e),console.log(o)})),g.events.Withdraw({fromBlock:0},(function(e,o){e&&console.log(e),console.log(o)})),g.events.OracleRequest({fromBlock:0},(function(e,o){e&&console.log(e),console.log(o)})),g.events.OracleReport({fromBlock:0},(function(e,o){e&&console.log(e),console.log(o)}))})).catch((function(e){console.log(e.message)}));var m=u()();m.get("/api",(function(e,o){o.send({message:"An API for use with your Dapp!"}),m.get("/oracleIndex",(function(e,o){o.json({result:d})}))})),m.use(a()),o.default=m}};