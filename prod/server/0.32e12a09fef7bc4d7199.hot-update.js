exports.id=0,exports.modules={"./src/server/server.js":function(e,n,o){"use strict";o.r(n);var t=o("./build/contracts/FlightSuretyApp.json"),s=o("./src/server/config.json"),r=o("web3"),a=o.n(r),c=o("express"),l=o.n(c),i=o("cors"),u=[],d=s.localhost,f=new a.a(new a.a.providers.WebsocketProvider(d.url.replace("http","ws")));f.eth.defaultAccount=f.eth.accounts[0];var g=new f.eth.Contract(t.abi,d.appAddress),h=[{id:0,name:"FLGT001"},{id:1,name:"FLGT002"},{id:2,name:"FLGT003"},{id:3,name:"KL1105"},{id:4,name:"KE6419"},{id:5,name:"KL1107"},{id:6,name:"9W8515"}],m=[0,10,20,30,40,50];f.eth.getAccounts((function(e,n){var o=n[0];flightSuretyData.methods.authorizeCaller(d.appAddress).send({from:o},(function(e,n){e?console.log(e):console.log("Configured authorized caller: ".concat(d.appAddress))}));for(var t=function(e){g.methods.registerOracle().send({from:n[e],value:f.utils.toWei("1","ether"),gas:45e5},(function(o,t){o?console.log(o):g.methods.getMyIndexes().call({from:n[e]},(function(o,t){if(o)console.log(o);else{var s={address:n[e],index:t};console.log("Oracle: ".concat(JSON.stringify(s))),u.push(s)}}))}))},s=20;s<40;s++)t(s)})),g.events.OracleRequest({fromBlock:0},(function(e,n){e?console.log(e):function(){for(var e=n.returnValues.index,o=n.returnValues.airline,t=n.returnValues.flight,s=n.returnValues.timestamp,r=m[Math.floor(Math.random()*m.length)],a=function(n){u[n].index.includes(e)&&g.methods.submitOracleResponse(e,o,t,s,r).send({from:u[n].address},(function(e,o){e?console.log(e):console.log("".concat(JSON.stringify(u[n]),": Status code ").concat(r))}))},c=0;c<u.length;c++)a(c)}()}));var p=l()();p.get("/api",(function(e,n){n.send({message:"An API for use with your Dapp!"}),p.get("/flights",(function(e,n){n.json({result:h})})),p.get("/eventIndex",(function(e,n){n.json({result:null})}))})),p.use(i()),n.default=p}};